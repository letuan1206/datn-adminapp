<div class="box">
    <div class="box-header">
        <h2>WEBSHOP MU ONLINE</h2>
    </div>
    <div class="dker box-body">
        <div class="row">
            <div class="col-md-4">
                <select ng-model="selectClass" class="form-control input-c" ng-init="selectClass='0'" ng-change="submit(0, selectClass, selectGroup)">
                    <option value="0" selected="selected">- Tất cả chủng tộc -</option>
                    <option value="1">Đồ của Phù Thủy</option>
                    <option value="2">Đồ của Chiến Binh</option>
                    <option value="3">Đồ của Tiên Nữ</option>
                    <option value="4">Đồ củ Đấu Sĩ</option>
                    <option value="5">Đồ của Chúa Tể</option>
                    <option value="6">Đồ của Thuật sĩ</option>
                    <option value="7">Đồ của Quyền Binh</option>
                </select>
            </div>

            <div class="col-md-4">

                <select ng-init="selectGroup=''" class="form-control input-c" ng-model="selectGroup" ng-change="submit(0, selectClass, selectGroup)">
                    <option value="">- Tất cả các loại -</option>
                    <optgroup label="--Giáp--">
                        <option value="14">Cánh</option>
                        <option value="9">Mũ</option>
                        <option value="10">Áo giáp</option>
                        <option value="11">Găng tay</option>
                        <option value="12">Quần</option>
                        <option value="13">Giầy</option>
                    </optgroup>
                    <optgroup label="--Vũ khí--">
                        <option value="0">Kiếm - Đao</option>
                        <option value="1">Rìu</option>
                        <option value="2">Chùy - Trượng</option>
                        <option value="3">Giáo</option>
                        <option value="7">Gậy</option>
                        <option value="5">Cung</option>
                        <option value="6">Nỏ</option>
                        <option value="8">Khiên</option>
                    </optgroup>
                    <optgroup label="--Hỗ trợ--">
                        <option value="16">Nhẫn</option>
                        <option value="17">Vòng cổ</option>
                        <option value="15">Thú nuôi</option>
                        <option value="20">Jewel</option>
                        <option value="21">Sách</option>
                        <option value="28">Thuộc Tính</option>
                        <option value="31">Các đồ khác</option>
                    </optgroup>
                </select>
            </div>
            <div class="col-md-4">
                <button class="btn btn-info" type="button" data-toggle="modal" data-target="#addItem">
                    <i class="fa fa-plus"></i> Thêm đồ
                </button>
            </div>
        </div>

        <div class="item-content-list col-md-12 mt-2">
            <div class="row row-xs">
                <div class="m-2" ng-repeat="item in listItem" style="width: 130px;">
                    <div class="item-list-boder r-3x">
                        <div class="text-center">
                            <div class="m-b pt-2">
                                <button class="btn btn-xs white text-blue" tooltip-placement="top" uib-tooltip="Đồ level +{{item.level}}">+ {{item.level}}
                                </button>
                                <button class="btn btn-xs white text-danger" tooltip-placement="top" style="margin-left: -6px;" uib-tooltip="Đồ có {{item.exc_total}} dòng hoàn hảo">{{item.exc_total}}
                                    <i class="fa fa-star"></i>
                                </button>
                                <button class="btn btn-xs white" style="margin-left: -6px;" ng-click="submit(0, '0', item.item_group)" tooltip-placement="top"
                                    uib-tooltip="Mời click để tìm đồ cùng loại">
                                    <i class="fa fa-search"></i>
                                </button>
                                <button class="btn btn-xs white text-success" style="margin-left: -6px;" ng-click="selectItem(item)" data-toggle="modal"
                                    data-target="#editItem" tooltip-placement="top" uib-tooltip="Edit món đồ này">
                                    <i class="fa fa-edit"></i>
                                </button>
                                <button class="btn btn-xs white text-danger" style="margin-left: -6px;" ng-click="selectItem(item)" data-toggle="modal" data-target="#deleteItem"
                                    tooltip-placement="top" uib-tooltip="Xóa món đồ này">
                                    <i class="fa fa-close"></i>
                                </button>
                            </div>
                        </div>
                        <div class="row-col text-center">
                            <a uib-popover-template="'template1.html'" popover-title="Bán {{item.price | number}} bạc" data-popover-trigger="mouseenter"
                                popover-placement="bottom" data-animation="am-flip-x">
                                <div data-toggle="popover" style="cursor: pointer; min-height: 65px" class="webshop-image-item">
                                    <img ng-src="assets/images/items/{{item.image}}.gif" style="max-height:65px; max-width:80px;">
                                </div>
                            </a>
                        </div>
                        <div class="pt-2 pb-2 text-center">
                            <button class="btn btn-outline b-warn text-warn btn-xs" data-toggle="modal" data-target="#editItem" ng-click="selectItem(item)">
                                <i class="fa fa-btc"></i> {{item.price | number}}</button>
                        </div>
                    </div>
                    <script id="template1.html" type="text/ng-template">
                        <p ng-bind-html="item.info"></p>
                    </script>
                </div>
            </div>

            <div role="toolbar" class="mgbt-xs-20">
                <center>
                    <br>
                    <div class="btn-group">
                        <button class="btn btn-default" type="button" ng-click="submit(0, '0', '')">Tất cả
                        </button>
                    </div>


                    <div class="btn-group">
                        <button class="btn btn-default" type="button" ng-click="submit(0, selectClass, selectGroup)">
                            Trang đầu
                        </button>

                        <button ng-if="page > 0" class="btn btn-info" type="button" ng-click="submit(page - 1, selectClass, selectGroup)">
                            <i class="fa fa-angle-left"></i> Trước
                        </button>

                        <button class="btn btn-default" type="button">-</button>

                        <button ng-if="listItem.length >= 20" class="btn btn-info" type="button" ng-click="submit(page + 1, selectClass, selectGroup)">
                            Tiếp
                            <i class="fa fa-angle-right"></i>
                        </button>
                    </div>
                </center>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="addItem" tabindex="-1" role="dialog">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header modal-header-custom">
                <h5 class="modal-title">Thêm đồ vào webshop</h5>
                <div class="bootstrap-dialog-close-button" style="display: block;">
                    <button class="close modal-header-custom" data-dismiss="modal">×</button>
                </div>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group row" ng-repeat="itemAdd in itemAddList track by $index">
                        <label class="col-md-2 text-right _600 pt-2">Mã Hexa:</label>
                        <div class="col-md-5">
                            <input type="text" class="form-control" ng-model="itemAddList[$index].itemCode" placeholder="067FED00006CA37F00C0000000000000"
                                maxlength="32">
                        </div>
                        <div class="col-md-3">
                            <input type="text" class="form-control" currency-input="" ng-model="itemAddList[$index].itemPrice" placeholder="Giá bán">
                        </div>
                        <div class="col-md-2" ng-if="$index !== 0">
                            <button type="submit" class="btn btn-danger" ng-click="delRow($index)">Xóa</button>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: block;">
                <div class="text-right">
                    <button type="submit" class="btn btn-accent" ng-click="addRow()">Thêm 1 hàng</button>
                    <button type="submit" class="btn btn-info" ng-click="saveItem()">Lưu</button>
                    <button class="btn btn-danger" ng-click="clearRow()">Clear</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="editItem" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-header-custom">
                <h5 class="modal-title">Sửa đồ</h5>
                <div class="bootstrap-dialog-close-button" style="display: block;">
                    <button class="close modal-header-custom" data-dismiss="modal">×</button>
                </div>
            </div>
            <div class="modal-body">
                <form class="form-horizontal">
                    <div class="form-group">
                        <div style="text-align: center;">
                            <img ng-src="assets/images/items/{{itemChoose.image}}.gif" border="0" popover-title="{{item.name}}" uib-popover-template="'template2.html'"
                                data-popover-trigger="mouseenter" popover-placement="bottom" style="margin: auto;max-height:100px; max-width:100px; cursor: pointer;">

                            <script id="template2.html" type="text/ng-template">
                                <p ng-bind-html="itemChoose.info"></p>
                            </script>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label class="col-md-4 text-right _600 pt-2">Giá bán:</label>
                        <div class="col-md-7">
                            <input type="text" class="form-control" ng-model="itemPrice" currency-input="" placeholder="Giá bán">
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer" style="display: block;">
                <div class="text-right">
                    <button type="submit" class="btn btn-info" ng-click="updateItem()">Thay đổi</button>
                    <button class="btn" data-dismiss="modal">Đóng lại</button>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="modal fade" id="deleteItem" tabindex="-1" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header modal-header-custom">
                <h5 class="modal-title">Delete Item</h5>
                <div class="bootstrap-dialog-close-button" style="display: block;">
                    <button class="close modal-header-custom" data-dismiss="modal">×</button>
                </div>
            </div>
            <div class="modal-body">
                <p>Bạn có chắc chắn muốn xóa đồ này khỏi SHOP không?</p>
            </div>
            <div class="modal-footer" style="display: block;">
                <div class="text-right">
                    <button type="submit" class="btn danger" ng-click="saveDeleteItem()">Đồng ý</button>
                </div>
            </div>
        </div>
    </div>
</div>